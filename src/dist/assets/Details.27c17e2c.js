var h=Object.defineProperty;var p=(t,e,s)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var l=(t,e,s)=>(p(t,typeof e!="symbol"?e+"":e,s),s);import{r as o,j as c,a,h as v,k as g,l as f,A as x,m as C}from"./index.052a2535.js";import{u as N}from"./useQuery.esm.8d8ed2ac.js";class u extends o.exports.Component{constructor(){super(...arguments);l(this,"state",{active:0})}render(){const{active:s}=this.state,{images:i}=this.props;return c("div",{className:"carousel",children:[a("img",{src:i[s],alt:"animal"}),a("div",{className:"carousel-smaller",children:i.map((d,n)=>a("img",{src:d,className:n===s?"active":"",alt:"animal thumbnail","data-index":n,onClick:r=>this.setState({active:+r.target.dataset.index})},d))})]})}}l(u,"defaultProps",{images:["http://pets-images.dev-apis.com/pets/none.jpg"]});const b=({children:t})=>{const e=o.exports.useRef(null);return e.current||(e.current=document.createElement("div")),o.exports.useEffect(()=>{const s=document.getElementById("modal");return s.appendChild(e.current),()=>s.removeChild(e.current)},[]),v.exports.createPortal(t,e.current)},P=async({queryKey:t})=>{const[,e]=t;return(await fetch(`http://pets-v2.dev-apis.com/pets?id=${e}`)).json()},k=t=>N(["pet",t],P),E=()=>{var m;const{id:t}=g(),e=f(),[s,i]=o.exports.useState(!1),[,d]=o.exports.useContext(x);let n=k(t),r=(m=n==null?void 0:n.data)==null?void 0:m.pets[0];return c("div",{className:"details",children:[n.isLoading&&a("div",{className:"loader-container",children:a(C,{})}),n.isError&&a("h3",{children:n.error.message}),n.data&&c("div",{children:[a("h1",{children:r.name}),a(u,{images:r.images}),a("h2",{children:`${r.animal} \u2014 ${r.breed} \u2014 ${r.city}, ${r.state}`}),c("button",{onClick:()=>i(!0),children:["Adopt ",r.name]}),a("p",{children:r.description})]}),a("button",{onClick:()=>{e("/")},children:"Home"}),s&&a(b,{children:c("div",{children:[c("h1",{children:["Adopt ",r.name]}),c("div",{className:"buttons",children:[a("button",{onClick:()=>{d(r),e("/")},children:"Yes"}),a("button",{onClick:()=>i(!1),children:"No"})]})]})})]})};export{E as default};
